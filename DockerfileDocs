FROM python:3.11.4-alpine

RUN apk update && apk add git make gcc musl-dev linux-headers

RUN mkdir -p /src
WORKDIR /src
ADD . /src

#RUN pip3 install -r docs/requirements.txt
#RUN pip3 install sphinx-autobuild sphinx_rtd_theme
RUN python3 -m pip install sphinx-autobuild sphinx_rtd_theme
#RUN pip3 install -e .
RUN python3 -m pip install -e .

EXPOSE 8050

CMD sphinx-autobuild --host 0.0.0.0 --port 8050 docs docs/_build/html
